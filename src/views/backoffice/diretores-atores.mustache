{{> partials/backoffice/header }}
<main class="admin-main">
    <div class="admin-header">
        <h1>Atores e Diretores</h1>
        <button onclick="openAddModal()" class="admin-btn-add"><span>+</span> Adicionar Profissional</button>
    </div>

    <div class="search-container admin-filters">
        <form action="/backoffice/diretores-atores" method="GET" style="display:flex; width:100%; justify-content: flex-end;">
            <select name="role" id="filter-role" onchange="this.form.submit()" style="width: 300px;">
                <option value="">Todos os cargos</option>
                <option value="Ator" {{#isAtorSelected}}selected{{/isAtorSelected}}>Ator</option>
                <option value="Diretor" {{#isDiretorSelected}}selected{{/isDiretorSelected}}>Diretor</option>
            </select>
        </form>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th style="width: 80px;">ID</th>
                    <th>Nome</th>
                    <th style="width: 200px;">Função Principal</th>
                    <th class="th-actions" style="width: 100px;">Ações</th>
                </tr>
            </thead>
            <tbody>
                {{#data}}
                <tr id="person-row-{{id}}">
                    <td>#{{id}}</td>
                    <td class="primary-text">{{name}}</td>
                    <td>
                        <span class="badge {{badgeClass}}">{{role}}</span>
                    </td>
                    <td class="actions-cell">
                        <button class="btn-action btn-delete" onclick="eliminarStaff('{{id}}')">&#128465;</button>
                    </td>
                </tr>
                {{/data}}
            </tbody>
        </table>
    </div>
</main>

<div id="addPersonModal" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle">Novo Profissional</h2>
        <form id="addPersonForm">
            <div class="form-group">
                <label>Nome Completo</label>
                <input type="text" name="nome" required placeholder="Ex: Cillian Murphy">
            </div>
            <div class="form-group">
                <label>Função (Cargo)</label>
                <select name="cargo" required>
                    <option value="Ator">Ator</option>
                    <option value="Diretor">Diretor</option>
                </select>
            </div>
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button type="submit" class="admin-btn-add" style="border:none; cursor:pointer;">Guardar</button>
                <button type="button" onclick="closeModal()" class="btn-action" style="width:auto; padding:0 20px;">Cancelar</button>
            </div>
        </form>
    </div>
</div>

<script src="/public/js/admin_person.js"></script>
{{> partials/backoffice/footer }}