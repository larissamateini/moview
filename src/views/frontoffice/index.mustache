{{> partials/frontoffice/header }}

<main>
    <div class="search-container">
        <div class="search-input-wrapper">
            <input type="text" placeholder="pesquise pelo nome" id="name-search" name="name-search" value="{{query}}">
            <button type="submit" id="search-btn">
                <img src="/public/images/icon-search.svg" alt="Pesquisar">
            </button>
        </div>

        <select name="genero-search" id="genero-search">
            <option value="">todos os géneros</option>
            {{#generos}}
                <option value="{{name}}" {{#isSelected}}selected{{/isSelected}}>{{name}}</option> 
            {{/generos}}
        </select>
    </div>

    <div class="content-area">
        <div id="movies-grid">
            <h2>{{#isSearch}}Filmes{{/isSearch}}{{^isSearch}}Filmes Populares{{/isSearch}}</h2>
            <div class="cards-container">
                {{#filmes}}
                <div class="card" data-genre="{{genero}}" onclick="window.location.href='/details/movie/{{id}}'">
                    <img class="card-img" src="https://image.tmdb.org/t/p/w500{{poster_path}}" alt="{{title}}">
                    <div class="card-info">
                        <div class="name-and-fav">
                            <h3>{{title}}</h3>
                            <button class="btn-fav" 
                                    data-id="{{id}}" 
                                    data-title="{{title}}" 
                                    data-poster="{{poster_path}}" 
                                    data-type="movie" 
                                    data-overview="{{overview}}">
                                <img src="/public/images/icon-fav-empty.svg" alt="Favorito">
                            </button>
                        </div>
                        <div class="genre-and-rating">
                            <span class="movie-genre">{{genero}}</span>
                            <div class="rating-wrapper">
                                <img src="/public/images/icon-star.svg" alt="Estrela">
                                <span>{{vote_average}}</span>
                            </div>
                        </div>
                        <div class="tags-wrapper">
                            <span class="tag">{{release_year}}</span>
                            <span class="tag">{{idioma}}</span>
                        </div>
                    </div>
                </div>
                {{/filmes}}
                {{^filmes}}
                    <p class="no-results">Nenhum filme encontrado.</p>
                {{/filmes}}
            </div>
        </div>

        <div id="series-grid">
            <h2>{{#isSearch}}Séries{{/isSearch}}{{^isSearch}}Séries Populares{{/isSearch}}</h2>
            <div class="cards-container">
                {{#series}}
                <div class="card" data-genre="{{genero}}" onclick="window.location.href='/details/tv/{{id}}'">
                    <img class="card-img" src="https://image.tmdb.org/t/p/w500{{poster_path}}" alt="{{name}}">
                    <div class="card-info">
                        <div class="name-and-fav">
                            <h3>{{name}}</h3>
                            <button class="btn-fav" 
                                    data-id="{{id}}" 
                                    data-title="{{name}}" 
                                    data-poster="{{poster_path}}" 
                                    data-type="tv" 
                                    data-overview="{{overview}}">
                                <img src="/public/images/icon-fav-empty.svg" alt="Favorito">
                            </button>
                        </div>
                        <div class="genre-and-rating">
                            <span class="movie-genre">{{genero}}</span>
                            <div class="rating-wrapper">
                                <img src="/public/images/icon-star.svg" alt="Estrela">
                                <span>{{vote_average}}</span>
                            </div>
                        </div>
                        <div class="tags-wrapper">
                            <span class="tag">{{release_year}}</span>
                            <span class="tag">{{idioma}}</span>
                        </div>
                    </div>
                </div>
                {{/series}}
                {{^series}}
                    <p class="no-results">Nenhuma série encontrada.</p>
                {{/series}}
            </div>
        </div>
    </div>
</main>

{{> partials/frontoffice/footer }}